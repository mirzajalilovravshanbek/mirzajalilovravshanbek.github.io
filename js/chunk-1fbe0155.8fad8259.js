(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1fbe0155"],{"3cdf":function(e,t,a){"use strict";a.r(t);a("4de4"),a("d3b7"),a("b0c0");var r=function(){var e=this,t=e._self._c;return t("b-container",{staticClass:"all-div-height",attrs:{fluid:""}},[t("md-card",[t("md-card-header",{attrs:{"data-background-color":"green"}},[t("h4",{staticClass:"title"},[e._v("Ҳодимлар рўйҳати")])]),t("md-card-content",[t("b-row",[t("b-col",[t("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-success.topright",modifiers:{hover:!0,"v-success":!0,topright:!0}}],staticStyle:{color:"#ffffff"},attrs:{to:{path:"/employees/create"},variant:"success",title:e.$t("Қўшиш")}},[t("b-icon",{attrs:{icon:"person-plus"}})],1),e._v("   "),t("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-primary",modifiers:{hover:!0,"v-primary":!0}}],attrs:{size:"md",variant:"primary",title:e.$t("Янгилаш")},on:{click:function(t){return e.Data()}}},[t("b-icon",{attrs:{icon:"arrow-clockwise"}})],1)],1),t("b-col",[t("b-form-group",{staticClass:"mb-0",attrs:{"label-for":"filter-input","label-cols-sm":"0","label-align-sm":"right","label-size":"sm"}},[t("b-input-group",{attrs:{size:"sm"}},[t("b-form-input",{attrs:{id:"filter-input",type:"search",placeholder:e.$t("Қидирув")},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),t("b-input-group-append",[t("b-button",{attrs:{disabled:!e.filter,variant:"danger"},on:{click:function(t){e.filter=""}}},[e._v(e._s(e.$t("Тозалаш")))])],1)],1)],1)],1)],1),t("div",{staticClass:"table-height mt-2"},[e.checkTable?t("div",{staticClass:"d-flex justify-content-center mb-3"},[t("b-spinner",{staticStyle:{width:"3rem",height:"3rem"},attrs:{variant:"info",type:"grow",label:"Spinning"}})],1):e._e(),t("b-table",{staticStyle:{cursor:"pointer"},attrs:{"sticky-header":"500px",striped:"",hover:"",items:e.users,fields:e.fields,filter:e.filter,"current-page":e.currentPage,"per-page":e.perPage,small:"",bordered:""},on:{"row-clicked":e.UpdateEmployee},scopedSlots:e._u([{key:"cell(index)",fn:function(t){return[e._v(" "+e._s(t.index+1)+" ")]}},{key:"cell(items)",fn:function(t){return[e._v(" "+e._s(t.value.username)+" "+e._s(t.value.role)+" "+e._s(t.value.branch.name)+" "+e._s(t.value.room.name)+" ")]}},{key:"cell(actions)",fn:function(a){return[t("span",{staticClass:"h5 mb-2"},[t("b-button-group",[t("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.left.v-primary",modifiers:{hover:!0,left:!0,"v-primary":!0}}],staticStyle:{color:"#1E90FF"},attrs:{variant:"outline-primary",size:"sm",to:{path:"/employees/update/"+a.item.id},title:e.$t("Таҳрирлаш")}},[t("b-icon",{attrs:{icon:"Pencil","font-scale":"0.9"}})],1),t("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.bottomright.v-success",modifiers:{hover:!0,bottomright:!0,"v-success":!0}}],attrs:{size:"sm",variant:"outline-success",title:a.detailsShowing?"Беркитиш":"Кўриш"},on:{click:a.toggleDetails}},[t("b-icon",{attrs:{icon:a.detailsShowing?"eye-slash":"eye","font-scale":"0.9"}})],1),t("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.right.v-danger",modifiers:{hover:!0,right:!0,"v-danger":!0}}],attrs:{size:"sm",variant:"outline-danger",title:e.$t("Ўчириш")},on:{click:function(t){return e.Delete(a.item.id)}}},[t("b-icon",{attrs:{icon:"trash","font-scale":"0.9"}})],1)],1)],1)]}},{key:"row-details",fn:function(a){return[t("b-card",[t("table",{staticClass:"table table-bordered table-sm"},[t("tbody",[t("tr",[t("th",[e._v("Шифокор:")]),t("td",[e._v(" "+e._s(null!=a.item.doctor?a.item.doctor.name:"")+" ")])]),t("tr",[t("th",[e._v("Текширув Бўлими:")]),t("td",[e._v(" "+e._s(null!=a.item.inspection_category?a.item.inspection_category.name:"")+" ")])]),t("tr",[t("th",[e._v("Тўлов Тури:")]),t("td",[e._v(" "+e._s("salary"==a.item.type?"Ойлик":"Фоиз")+" ")])]),t("tr",[t("th",[e._v("Ойлик:")]),t("td",[e._v(e._s(a.item.salary))])])])])])]}}])})],1),t("b-col",{staticClass:"my-1",attrs:{sm:"5",md:"6"}},[t("b-pagination",{staticClass:"my-0",attrs:{"total-rows":e.totalRows,"per-page":e.perPage,size:"sm"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],1)],1)],1)},i=[],n=a("c7eb"),s=a("1da1"),o=(a("14d9"),a("bc3a")),l={name:"employees-index",data:function(){return{users:[],filter:null,totalRows:1,currentPage:1,checkTable:!1,perPage:20,fields:[{key:"index",label:"#",sortable:!1},{key:"username",label:"ФИШ",sortable:!0},{key:"role",label:"Ҳуқуқи",sortable:!0},{key:"branch.name",label:"Филиал",sortable:!0},{key:"room.name",label:"Хона",sortable:!0},{key:"actions",label:""}]}},mounted:function(){var e=this;return Object(s["a"])(Object(n["a"])().mark((function t(){return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.Data();case 2:case"end":return t.stop()}}),t)})))()},methods:{Data:function(){var e=this;return Object(s["a"])(Object(n["a"])().mark((function t(){var a,r;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e,a.checkTable=!0,t.prev=2,t.next=5,a.axios.get("api/user");case 5:r=t.sent,a.users=r.data,a.totalRows=a.users.length,a.checkTable=!1,t.next=13;break;case 11:t.prev=11,t.t0=t["catch"](2);case 13:case"end":return t.stop()}}),t,null,[[2,11]])})))()},Delete:function(e){var t=this;return Object(s["a"])(Object(n["a"])().mark((function a(){return Object(n["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.$bvModal.msgBoxConfirm("Are you sure you want to delete?",{title:"Please confirm!",size:"md",okVariant:"outline-danger m-0 ml-2",okTitle:"Yes",cancelTitle:"No",cancelVariant:"info m-0",hideHeaderClose:!1,centered:!1}).then((function(a){var r=a,i=t;!0===r&&o({method:"delete",url:"api/user/id/"+e}).then((function(e){i.Data()}))})).catch((function(e){}));case 1:case"end":return a.stop()}}),a)})))()},UpdateEmployee:function(e){var t=this;t.$router.push({path:"/employees/update/"+e.id})}}},c=l,u=(a("730c"),a("2877")),b=Object(u["a"])(c,r,i,!1,null,"2e3fa9ea",null);t["default"]=b.exports},"52a1":function(e,t,a){},"730c":function(e,t,a){"use strict";a("52a1")}}]);
//# sourceMappingURL=chunk-1fbe0155.8fad8259.js.map