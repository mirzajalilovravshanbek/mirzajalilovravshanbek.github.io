(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-379be51c"],{"0ae9":function(t,e,a){"use strict";a.r(e);a("4de4"),a("d3b7");var r=function(){var t=this,e=t._self._c;return e("b-container",{staticClass:"all-div-height",attrs:{fluid:""}},[e("b-row",[t.role===t.$store.state.REGISTRATION||t.role===t.$store.state.DOCTOR||t.role===t.$store.state.ITMED?e("b-col",{attrs:{sm:"2",md:"2",lg:"2",xl:"2"}},[e("b-button",{staticClass:"m-2",staticStyle:{color:"#fff"},attrs:{variant:"success",block:"",to:{path:"/patient/create"}}},[e("b-icon",{attrs:{icon:"person-plus"}}),t._v(" "+t._s(t.$t("Қўшиш")))],1)],1):t._e(),e("b-col",{attrs:{sm:"2",md:"2",lg:"2",xl:"2"}},[e("b-button",{staticClass:"m-2",attrs:{variant:"primary",block:"",target:"_blank"},on:{click:function(e){return t.Data()}}},[e("b-icon",{attrs:{icon:"arrow-clockwise"}}),t._v(" "+t._s(t.$t("Янгилаш")))],1)],1),t.role===t.$store.state.LABARATORY?e("b-col",{attrs:{sm:"2",md:"2",lg:"2",xl:"2"}}):t._e(),e("b-col",{attrs:{sm:"8",md:"8",lg:"8",xl:"8"}},[e("b-form-group",{staticClass:"m-2",attrs:{"label-for":"filter-input","label-cols-sm":"0","label-align-sm":"right","label-size":"sm"}},[e("b-input-group",{attrs:{size:"sm"}},[e("b-form-input",{attrs:{id:"filter-input",type:"search",placeholder:t.$t("Қидирув")},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),e("b-input-group-append",[e("b-button",{attrs:{disabled:!t.filter,variant:"danger"},on:{click:function(e){t.filter=""}}},[t._v(t._s(t.$t("Тозалаш")))])],1)],1)],1)],1)],1),e("md-card",{staticClass:"p-2 card-margin"},[e("div",{staticClass:"div-body"},[t.checkTable?e("div",{staticClass:"d-flex justify-content-center mb-3"},[e("b-spinner",{staticStyle:{width:"3rem",height:"3rem"},attrs:{variant:"info",type:"grow",label:"Spinning"}})],1):t._e(),e("b-table",{staticStyle:{cursor:"pointer"},attrs:{hover:"",items:t.filteredData,fields:t.fields,filter:t.filter,"current-page":t.currentPage,"per-page":t.perPage,bordered:"",small:"","tbody-tr-class":t.rowClass},on:{filtered:t.onFiltered,"row-clicked":t.UpdatePatient},scopedSlots:t._u([{key:"cell(index)",fn:function(a){return[e("strong",[t._v(t._s(a.index+1))])]}},{key:"cell(items)",fn:function(e){return[t._v(" "+t._s(e.value.created_at)+" "+t._s(null!=e.value.patient?e.value.patient.fullname:"")+" "+t._s(null!=e.value.user?e.value.user.username:"")+" ")]}},{key:"cell(actions)",fn:function(a){return[e("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top.v-primary",modifiers:{hover:!0,top:!0,"v-primary":!0}}],staticStyle:{color:"#1E90FF"},attrs:{variant:"outline-primary",size:"sm",to:{path:"/patient/update/"+a.item.id},title:t.$t("Таҳрирлаш")}},[e("b-icon",{attrs:{icon:"Pencil","font-scale":"0.9"}})],1)]}}])})],1),e("b-col",{staticClass:"my-1",attrs:{sm:"5",md:"6"}},[e("b-pagination",{staticClass:"my-0",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,size:"md"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)],1)},s=[],n=a("c7eb"),i=a("1da1"),l=(a("14d9"),a("c1df")),o=a.n(l),c={name:"patient-index",data:function(){return{role:null,users:[],filter:null,totalRows:1,currentPage:1,checkTable:!1,perPage:50,fields:[{key:"index",label:"#",sortable:!1},{key:"created_at",label:this.$i18n.t("Келган Вақти"),formatter:function(t,e,a){return o.a.unix(t).format("DD.MM.YYYY HH:mm:ss")}},{key:"patient.fullname",label:this.$i18n.t("Бемор"),sortable:!0},{key:"user.username",label:this.$i18n.t("Ходим"),sortable:!0},{key:"actions",label:""}]}},mounted:function(){var t=this;return Object(i["a"])(Object(n["a"])().mark((function e(){return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.role=localStorage.getItem("role"),e.next=3,t.Data();case 3:case"end":return e.stop()}}),e)})))()},methods:{Data:function(){var t=this;return Object(i["a"])(Object(n["a"])().mark((function e(){var a,r,s;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,a.checkTable=!0,r=t.role==t.$store.state.REGISTRATION?"api/registration/branch/"+localStorage.getItem("branch_id"):t.role==t.$store.state.DOCTOR?"api/registration/doctor/"+localStorage.getItem("oid"):t.role==t.$store.state.LABARATORY?"api/registration/inspection/"+localStorage.getItem("oid"):"api/registration",e.prev=3,e.next=6,a.axios.get(r);case 6:s=e.sent,a.users=s.data,a.totalRows=a.users.length,a.checkTable=!1,e.next=14;break;case 12:e.prev=12,e.t0=e["catch"](3);case 14:case"end":return e.stop()}}),e,null,[[3,12]])})))()},UpdatePatient:function(t){this.$router.push({path:"/patient/update/"+t.id})},onFiltered:function(t){this.totalRows=t.length,this.currentPage=1,this.users.count=t.length},rowClass:function(t,e){if(t&&"row"===e)return t.status===this.$store.state.WAITING?"table-success":void 0}},computed:{filteredData:function(){return this.users}}},u=c,p=(a("9ef3"),a("2877")),b=Object(p["a"])(u,r,s,!1,null,"725b98a1",null);e["default"]=b.exports},"4e33":function(t,e,a){},"9ef3":function(t,e,a){"use strict";a("4e33")}}]);
//# sourceMappingURL=chunk-379be51c.ac9ad339.js.map